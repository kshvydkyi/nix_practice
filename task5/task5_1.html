<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Открытие новых окон и запись содержания</title>
<style type="text/css">
	html{
		background:#fff;
		font:16px calibri, sans-serif;
		cursor:default;
	}
	p {
		float:left;
		margin:0 10px 0 0;
		padding:15px;
	}
	.p1{
		background:#ccf;
	}
	.p2{
		background:#fcc;
	}
	.p3{
		background:#cfc;
	}
</style>
	<script type="text/javascript">
	let name = 'Window';
	let wnd; 

	function openWnd() {
		wnd = open('', 'Window', 'width=300,height=200');
		wnd.moveBy(window.screen.width / 2 - 150, window.screen.height / 2 - 100);
		wnd.focus();
	}

	function docWrite() {
			wnd.document.write(`
					<html>
						<head>
							<meta charset="utf-8">
							<title>${name}</title>
							<style>
								html {
									background:#369;
									color:#fff;
									font:16px calibri, sans-serif;
								}
							</style>
						</head>
						<body>
							<p>Текст параграфа</p>
						</body>
						<script type="text/javascript">alert(opener.name);<\/script>
					</html>
			`);
		
	}

	function winClose() {
		if(wnd || !wnd.close()) wnd.close();
	}
	</script>
</head>
<body>
	<p class="p1"><a href="javascript:openWnd();">Открыть окно</a></p>
	<p class="p3"><a href="javascript:docWrite();">Заполнить окно</a></p>
	<p class="p2"><a href="javascript:winClose();">Закрыть окно</a></p>
</body>
</html>

